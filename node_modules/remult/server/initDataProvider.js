"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.initDataProvider = void 0;
var tslib_1 = require("tslib");
function initDataProvider(optionsDataProvider) {
    var _this = this;
    var dataProvider;
    if (typeof optionsDataProvider === 'function') {
        dataProvider = optionsDataProvider();
    }
    else
        dataProvider = Promise.resolve(optionsDataProvider);
    dataProvider = dataProvider.then(function (dp) { return tslib_1.__awaiter(_this, void 0, void 0, function () {
        return tslib_1.__generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    if (dp)
                        return [2 /*return*/, dp];
                    return [4 /*yield*/, Promise.resolve().then(function () { return tslib_1.__importStar(require('./JsonEntityFileStorage.js')); })];
                case 1: return [2 /*return*/, new (_a.sent()).JsonFileDataProvider('./db')];
            }
        });
    }); });
    return dataProvider;
}
exports.initDataProvider = initDataProvider;
